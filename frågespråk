-- 1
select tele 
from skjutfalt
where faltnamn='Kråk';

-- 2
select namn, lon
from funktionar
where funkpnr='19790129-4444';

-- 3
select funktionar.namn
from funktionar, ansvar, ammunition
where ammunition.ammonamn='X-act' AND ansvar.skyttpnr=ammunition.skyttpnr AND ansvar.funkpnr=funktionar.funkpnr;

-- 4
select skytt.skyttpnr
from skytt, gevar, ammunition
where gevar.gevarnamn='Izhmash' AND ammunition.kaliber='.22' AND ammunition.ammonamn='X-act' AND skytt.skyttpnr=ammunition.skyttpnr AND skytt.skyttpnr=gevar.skyttpnr;

-- 5
select funktionar.namn
from funktionar, skjutbana, skjutfalt
where skjutbana.moment='Stående' AND skjutbana.bannr=funktionar.bannr AND skjutfalt.faltnamn=skjutbana.faltnamn;

-- 6
select distinct temp1.funkpnr
from funktionar temp1, funktionar temp2
where temp1.lon = temp2.lon and temp1.funkpnr <> temp2.funkpnr;

-- 7
select skyttpnr
from skytt
where not exists (select * from skjutserie where skytt.skyttpnr=skjutserie.skyttpnr);

-- 8
select skytt.team
from skjutserie, skytt
where skjutserie.resultat='5' AND skjutserie.skyttpnr=skytt.skyttpnr;

-- 9
select *
from skjutserie, skytt
where skjutserie.skyttpnr=skytt.skyttpnr;

-- 10
select skjutserie.funkpnr, count(funkpnr)
from skjutserie
group by funkpnr
having count(funkpnr) = 2;

-- 11
select *
from funktionar
order by namn DESC;

-- 12
select AVG(resultat)
from skjutserie;

-- 13
select bannr, AVG(resultat)
from skjutserie
group by bannr;

-- 14
select *
from skytt 
where team rlike '^R';

-- 15
select namn, team
from skytt
where not skyttpnr rlike '^[0-9]{8}-[0-9]{4}$';

-- 16
select namn
from funktionar
where lon = (select max(lon) from funktionar);

-- 17
select skytt.namn
from skytt, skjutserie
where starttid = (select max(starttid) from skjutserie) and skjutserie.skyttpnr=skytt.skyttpnr;

-- 18
-- Det går egentligen inte för min databas sparar inga datum, men jag gör som
-- jag skulle ha gjort fast med tid istället för datum
select *
from skjutserie
where starttid=(select curtime() - (select curtime() - (select max(starttid) from skjutserie)));

-- 19
update funktionar
set lon = lon * 1.03
where lon >= 10000 and lon <= 12000;

-- 20
delete from maltavla
where tavlanr = '8';

select *
from maltavla;
-- 21
delete from skjutserie
where starttid = '12:01:33' and skyttpnr ='19560123-6666';

select *
from skjutserie
